include "common.conf"

appName = "amls-frontend"
application.router = prod.Routes
application.global = config.ApplicationGlobal

security.headers.filter.enabled = true
play.filters.headers.contentSecurityPolicy= "default-src 'self' 'unsafe-inline' localhost:9032 assets.digital.cabinet-office.gov.uk www.google-analytics.com data:"

#for Business Customer Frontend keystore data
review-details.cache = "business-customer-frontend"

#encryption key for save4later
json.encryption {
  key="fqpLDZ4smuDsekHkeEBlCA=="
  previousKeys=[]
}

ws.timeout.request = 70000

assets {
  minified = true
  version = "2.230.0"
  url = /assets/
}

# section for service configuration
# that doesn't depend on the environment
microservice {
  services {
    contact-frontend {
      beta-feedback-url {
        authenticated = "/contact/beta-feedback"
        unauthenticated = "/contact/beta-feedback-unauthenticated"
      }
      report-a-problem-url = "/contact/problem_reports"
    }
  }
}

Dev {
  microservice {
    services {
      paymentsUrl = "/pay-online/other-taxes"
      amounts = ${Prod.microservice.services.amounts}
      feature-toggle {
        hvd = true
        responsible-people = true
        gg-enrol = true
        status-review = true
        amendments = true
      }
      amls {
        host = localhost
        port = 8940
      }
      contact-frontend {
        host = localhost
        port = 9250
      }
      business-customer {
        url = "http://localhost:9923/business-customer/amls"
      }
      analytics {
        # TODO: GA token
        token = "N/A"
        host = "auto"
      }
      auth {
        host = localhost
        port = 8500
      }
      government-gateway {
        host = localhost
        port = 8570
      }
      cachable {
        short-lived-cache {
          host = localhost
          port = 9272
          domain = save4later
        }
        session-cache {
          host=localhost

          port=8400
          domain=keystore
          review-details.cache = "business-customer-frontend"
          amls-frontend.cache = "amls-frontend"
        }
      }
      login.url = "http://localhost:9025/gg/sign-in"
      login.continue = "http://localhost:9222/anti-money-laundering"
      logout.url = "http://localhost:9025/gg/sign-out"
    }
  }
  auditing {
    enabled = true
    traceRequests = true
    consumer {
      baseUri {
        host = "localhost"
        port = 8100
      }
    }
  }
}

Prod {
  microservice {
    services {
      amounts {
        registration = 100
        premises = 115
        people = 100
      }
      paymentsUrl = "/pay-online/other-taxes"
      feature-toggle {
        hvd = true
        responsible-people = true
        gg-enrol = false
        status-review = true
        amendments = false
      }
      amls {
        host = amls.service
        port = 80
      }
      contact-frontend {
        host = contact-frontend.service
        port = 80
      }
      business-customer {
        host = business-customer-frontend.service
        port = 80
        url = "/business-customer/amls"
      }
      analytics {
        # TODO: GA token
        token = "N/A"
        host = "auto"
      }
      auth {
        host = auth.service
        port = 80
      }
      government-gateway {
        host = government-gateway.service
        port = 80
      }
      cachable {
        short-lived-cache {
          host = save4later.service
          port = 80
          domain = save4later
        }
        session-cache {
          host=key-store.service
          port=80
          domain=keystore
          review-details.cache = "business-customer-frontend"
          amls-frontend.cache = "amls-frontend"
        }
      }
      login.url = "/gg/sign-in"
      login.continue = "/anti-money-laundering"
      logout.url = "/gg/sign-out"
    }
  }
  auditing {
    enabled = true
    traceRequests = true
    consumer {
      baseUri {
        host = datastream.service
        port = 80
      }
    }
  }
}

Test = ${Dev}
