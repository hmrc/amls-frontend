include "common.conf"

appName = "amls-frontend"
application.router = prod.Routes
application.global = config.ApplicationGlobal

#security.headers.filter.enabled = true
play.filters.headers.contentSecurityPolicy= "default-src 'self' 'unsafe-inline' localhost:9032 assets.digital.cabinet-office.gov.uk www.google-analytics.com cdn.optimizely.com 8289499096.log.optimizely.com data:"
play.modules.enabled += "com.kenshoo.play.metrics.PlayModule"
play.modules.enabled += "uk.gov.hmrc.play.config.inject.ConfigModule"
play.modules.enabled += "modules.Module"
play.http.requestHandler = "play.api.http.GlobalSettingsHttpRequestHandler"

play.filters.csrf.header.bypassHeaders {
  X-Requested-With = "*"
  Csrf-Token = "nocheck"
}

#for Business Customer Frontend keystore data
review-details.cache = "business-customer-frontend"

#encryption key for save4later
json.encryption {
  key="fqpLDZ4smuDsekHkeEBlCA=="
  previousKeys=[]
}

# Logger
# ~~~~~
# You can also configure logback (http://logback.qos.ch/), by providing a logger.xml file in the conf directory .

# Root logger:
logger.root = ERROR

# Logger used by the framework:
logger.play = INFO

# Logger provided to your application:
logger.application = DEBUG

ws.timeout.request = 70000

assets {
  minified = true
  version = "2.241.0"
  url = "http://localhost:9032/assets/"
}

# Enable / Disable filters on controllers
controllers {
  # assets controller
  controllers.Assets {
    needsAuth = false
    needsAuditing = false
    needsLogging = false
  }
  uk.gov.hmrc.play.health.AdminController = {
    needsAuth = false
    needsLogging = false
    needsAuditing = false
  }
  com.kenshoo.play.metrics.MetricsController = {
    needsAuth = false
    needsLogging = false
    needsAuditing = false
  }
}

# section for service configuration
# that doesn't depend on the environment
microservice {
  services {
    contact-frontend {
      beta-feedback-url {
        authenticated = "/contact/beta-feedback"
        unauthenticated = "/contact/beta-feedback-unauthenticated"
      }
      report-a-problem-url = "/contact/problem_reports"
    }
  }
}

Dev {
  microservice {
    services {
      paymentsUrl = "//"${Dev.microservice.services.payments-frontend.host}":"${Dev.microservice.services.payments-frontend.port}"/pay-online/other-taxes"
      amounts = ${Prod.microservice.services.amounts}
      feature-toggle {
        gg-enrol = true
        notifications = true
        amendments = true
        business-matching-details-lookup = false
        release7 = true
        refresh-profile = false
        payments-url-lookup = true
        renewals = true
      }
      amls {
        host = localhost
        port = 8940
      }
      amls-notification {
        host = localhost
        port = 8942
      }
      contact-frontend {
        host = localhost
        port = 9250
      }
      business-customer {
        host = localhost
        port = 9923
        url = "http://localhost:9923/business-customer/amls"
      }
      analytics {
        # TODO: GA token
        token = "N/A"
        host = "auto"
      }
      auth {
        host = localhost
        port = 8500
      }
      government-gateway {
        host = localhost
        port = 8570
      }
      authenticator {
        host = localhost
        port = 9905
      }
      payments-frontend {
        host = localhost
        port = 9050
        custom-payment-id = "1234567890"
      }
      cachable {
        short-lived-cache {
          host = localhost
          port = 9272
          domain = save4later
        }
        session-cache {
          host=localhost

          port=8400
          domain=keystore
          review-details.cache = "business-customer-frontend"
          amls-frontend.cache = "amls-frontend"
        }
      }
      login.url = "http://localhost:9025/gg/sign-in"
      login.continue = "http://localhost:9222/anti-money-laundering"
      logout.url = "http://localhost:9025/gg/sign-out"
    }
  }
  auditing {
    enabled = true
    traceRequests = true
    consumer {
      baseUri {
        host = "localhost"
        port = 8100
      }
    }
  }
}

Prod {
  microservice {
    services {
      amounts {
        registration = 100
        premises = 115
        people = 100
      }
      paymentsUrl = "/pay-online/other-taxes"
      feature-toggle {
        gg-enrol = false
        notifications = false
        amendments = false
        business-matching-details-lookup = false
        release7 = false
        refresh-profile=true
        payments-url-lookup = false
        renewals = false
      }
      amls {
        host = amls.protected.mdtp
        port = 80
      }
      amls-notification {
        host = amls-notification.protected.mdtp
        port = 80
      }
      contact-frontend {
        host = contact-frontend.public.mdtp
        port = 80
      }
      business-customer {
        host = business-customer-frontend.public.mdtp
        port = 80
        url = "/business-customer/amls"
      }
      analytics {
        # TODO: GA token
        token = "N/A"
        host = "auto"
      }
      auth {
        host = auth.protected.mdtp
        port = 80
      }
      authenticator {
        host = authenticator.public.mdtp
        port = 80
      }
      payments-frontend {
        host = payments-frontend.public.mdtp
        port = 80
        custom-payment-id = "1234567890"
      }
      government-gateway {
        host = government-gateway.public.mdtp
        port = 80
      }
      cachable {
        short-lived-cache {
          host = save4later.protected.mdtp
          port = 80
          domain = save4later
        }
        session-cache {
          host=key-store.public.mdtp
          port=80
          domain=keystore
          review-details.cache = "business-customer-frontend"
          amls-frontend.cache = "amls-frontend"
        }
      }
      login.url = "/gg/sign-in"
      login.continue = "/anti-money-laundering"
      logout.url = "/gg/sign-out"
    }
  }
  auditing {
    enabled = true
    traceRequests = true
    consumer {
      baseUri {
        host = datastream.protected.mdtp
        port = 80
      }
    }
  }
}

Test = ${Dev}
