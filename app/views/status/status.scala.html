@import include._
@import models.status.CompletionStateViewModel
@import models.status.SubmissionStatus
@import models.status.CompletionState
@import models.status.NotCompleted
@import models.status.SubmissionDecisionMade
@import models.status.Current

@(businessName: String, completionState: CompletionStateViewModel)(implicit request: Request[_])
@borderClass(entry:(SubmissionStatus,CompletionState)) = {
    @entry match{
        case (NotCompleted,Current)=> {status-list--start}
        case (SubmissionDecisionMade,Current)=> {status-list--end}
        case (_,_) => {}
    }

}
@main2(
title = Messages("status.title")
) {

@* Heading *@
<div class="grid-layout">
    <div class="grid-layout__column grid-layout__column--3-3">
        @heading("status.heading", "summary.status")

    </div>
</div>

<div class="grid-layout">
    <div class="grid-layout__column grid-layout__column--1-3">
        <div class="panel-indent panel-indent--gutter"><div class="heading-small">@Messages("status.business")</div><div>@businessName</div></div>
    </div>
    <div class="grid-layout__column grid-layout__column--2-3">&nbsp;</div>
</div>

<div class="grid-layout grid-layout--stacked">
    <div class="grid-layout__column grid-layout__column--1-3">
        <ol class="list list-number status-list">

            @completionState.statuses.map{entry=>
                <li class="status-list--pending @{entry._2.cssClass+borderClass(entry)}">@completionState.statusTitle(entry._1)</li>
            }
        </ol>
    </div>
    <div class="grid-layout__column grid-layout__column--2-3">
        <div class="status-detail">
            <h2>@Messages("status.incompleteheading")</h2>
            <p>@Messages("status.description")</p>
            <p>@Messages("status.withdraw")</p>
            <a href="@controllers.routes.RegistrationProgressController.get()" class="button" type="submit">@Messages("status.buttontext")</a>
        </div>

    </div>
</div>



}
