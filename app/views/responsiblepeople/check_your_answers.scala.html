@import include._
@import models.responsiblepeople.ResponsiblePeople

@(responsiblePeople: Seq[ResponsiblePeople], addOther: Boolean)(implicit request: Request[_])

@main2(
    title = Messages("responsiblepeople.check_your_answers.title")
) {

    @if(addOther) {
        @heading("responsiblepeople.your_answers.heading", "summary.responsiblepeople")
        <div class="panel-indent panel-border-wide spacelarge">
            <a id="addResponsiblePerson" href="@controllers.responsiblepeople.routes.PersonNameController.get(responsiblePeople.size + 1)">@Messages("responsiblepeople.check_your_answers.add")</a>
        </div>
    } else {
        @heading("responsiblepeople.check_your_answers.heading", "summary.responsiblepeople")
    }

    <div class="grid-layout">
        <div class="grid-layout__column grid-layout__column--2-3">
            <table>
                @responsiblePeople.zipWithIndex.map { case (rp, index) =>
                <tr>
                    <th class="summary-title" colspan="2">
                        @rp.personName.map { pn =>
                            @pn.fullName
                        }.getOrElse {
                            @Messages("missing.personName")
                        }
                    </th>
                    <!-- TODO: Change these to use edit and delete pages -->
                    <td><a href="@controllers.responsiblepeople.routes.SummaryController.get()">@Messages("button.edit")</a></td>
                    <td><a href="@controllers.responsiblepeople.routes.SummaryController.get()">@Messages("button.delete")</a></td>
                </tr>
                }
            </table>
        </div>
        <div class="grid-layout__column grid-layout__column--1-3">
            &nbsp;
        </div>
    </div>

    <a class="button" href="@controllers.routes.RegistrationProgressController.get()">@Messages("button.summary.acceptandcomplete")</a>

}
