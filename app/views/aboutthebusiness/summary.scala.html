@import include._
@import forms2._
@import models.aboutthebusiness._
@import utils._

@(model: AboutTheBusiness)(implicit request: Request[_], lang: Lang)

@header = {
    @heading("title.cya", "summary.aboutbusiness")
}

@main(
    title = Messages("title.cya") + " - " + Messages("summary.aboutbusiness"),
    heading = header
) {

    @checkYourAnswers(
        question = Messages("aboutthebusiness.registeredformlr.title"),
        editUrl = controllers.aboutthebusiness.routes.PreviouslyRegisteredController.get(true).toString
    ) {
        <p>@model.previouslyRegistered.map {
            case PreviouslyRegisteredNo => { @Messages("lbl.no") }
            case PreviouslyRegisteredYes(v) => { @v }
        }</p>
    }

    @model.activityStartDate.map { activityStartDate =>
        @checkYourAnswers(
            question = Messages("aboutthebusiness.activity.start.date.title"),
            editUrl = controllers.aboutthebusiness.routes.ActivityStartDateController.get(true).toString
        ) {
            <p>@Messages("lbl.start.date") @DateHelper.formatDate(activityStartDate.startDate)</p>
        }
    }

    @model.vatRegistered.map { vatRegistered =>
        @checkYourAnswers(
            question = Messages("aboutthebusiness.registeredforvat.title"),
            editUrl = controllers.aboutthebusiness.routes.VATRegisteredController.get(true).toString
        ) {
            <p>@vatRegistered match {
                case VATRegisteredNo => { @Messages("lbl.no") }
                case VATRegisteredYes(v) => { @Messages("lbl.vat.reg.number") @v }
            }</p>
        }
    }

    @model.corporationTaxRegistered.map { ctRegistered =>
        @checkYourAnswers(
            question = Messages("aboutthebusiness.registeredforcorporationtax.title"),
            editUrl = controllers.aboutthebusiness.routes.CorporationTaxRegisteredController.get(true).toString
        ) {
            <p>@ctRegistered match {
                case CorporationTaxRegisteredNo => { @Messages("lbl.no") }
                case CorporationTaxRegisteredYes(v) => { @v }
            }</p>
        }
    }

    @model.registeredOffice.map { a =>
        @checkYourAnswers(
            question = Messages("aboutthebusiness.registeredoffice.title"),
            editUrl = controllers.aboutthebusiness.routes.RegisteredOfficeController.get(true).toString
        ) {
            <p>@a.toLines.map { line =>
                @line<br />
            }</p>
        }
    }

    @model.contactingYou.map { c =>
        @checkYourAnswers(
            question = Messages("aboutthebusiness.contactingyou.title"),
            editUrl = controllers.aboutthebusiness.routes.CorrespondenceAddressController.get(true).toString
        ) {
            <ul class="list">
                <li>@c.phoneNumber</li>
                <li>@c.email</li>
            </ul>
        }
        @checkYourAnswers(
            question = Messages("aboutthebusiness.correspondenceaddress.postal.address"),
            classes = Seq("check-your-answers__last"),
            editUrl = controllers.aboutthebusiness.routes.ContactingYouController.get(true).toString
        ) {
            <ul class="list">
            @model.correspondenceAddress.map { ca =>
                <li>@ca.toLines.map { line =>
                    @line<br />
                }</li>
            }
            </ul>
        }
    }

    <a class="button" href="@controllers.routes.RegistrationProgressController.get()">@Messages("button.checkyouranswers.acceptandcomplete")</a>
}
