@import include._
@import forms2._
@import utils._

@(f: forms.Form2[_], edit: Boolean, index:Int)(implicit lang: Lang, request: Request[_])

@target = @{
    s"""${f("accountNumber").id}-fieldset"""
    s"""${f("sortCode").id}-fieldset"""
}

@target1 = @{
    s"""${f("nonUKAccountNumber").id}-fieldset"""
    s"""${f("IBANNumber").id}-fieldset"""
}

@header = {
    @errorSummary(f)
    @heading("bankdetails.accountdetails.title", "summary.bankdetails")
}

@main(
    title = Messages("bankdetails.accountdetails.title") + " - " + Messages("summary.bankdetails"),
    heading = header
) {

    @form(f, controllers.bankdetails.routes.BankAccountController.post(index, edit)) {

    <div class="form-field-group">
        @input(
          field = f("accountName"),
          labelText = "bankdetails.bankaccount.accountname",
          bold = false
        )
    </div>

    <div class="form-field-group">
        @inlineRadioGroup(f("isUK")) {
        @legend(legend = "bankdetails.bankaccount.accounttype", jsHidden = false, bold = false)
        @radio(f("isUK"), "lbl.yes", "true", target = s"#$target")
        @radio(f("isUK"), "lbl.no", "false", target = s"#$target1")
            @fieldset("bankdetails.bankaccount.accounttype.yes", jsHidden = true, id = target) {
                @input(f("sortCode"), labelText = "bankdetails.bankaccount.sortcode", hintText = "bankdetails.bankaccount.sortcode.hint")
                @input(f("accountNumber"), labelText = "bankdetails.bankaccount.accountnumber", hintText = "bankdetails.bankaccount.accountnumber.hint")

            }
            @fieldset("bankdetails.bankaccount.accounttype.no", jsHidden = true, id = target1) {
                @input(f("IBANNumber"), labelText = "bankdetails.bankaccount.iban")
                <p>or</p>
                @input(f("nonUKAccountNumber"), labelText = "bankdetails.bankaccount.accountnumber")

            }
        }
    </div>

    @submit(edit)
}

}
